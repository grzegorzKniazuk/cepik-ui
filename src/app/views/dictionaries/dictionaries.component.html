<div class="container-xl mt-4">
    <div class="form-group">
        <label for="dictionary-select">Wybierz słownik</label>
        <select class="form-control" id="dictionary-select" [value]="selectedCategory$ | async" (change)="onCategorySelect($event.target.value)">
            <option *ngFor="let def of dictionariesDef$ | async" [value]="def.id">{{ def.id }}</option>
        </select>
    </div>
    <table class="table mt-4">
        <thead class="thead-dark">
            <tr>
                <th scope="col">#</th>
                <th scope="col">Klucz</th>
                <th scope="col">Wartość słownikowa</th>
                <th scope="col">Liczba wystąpień</th>
            </tr>
        </thead>
        <tbody *ngIf="dictionaryItems$ | async as items">
            <ng-container *ngTemplateOutlet="items.length ? itemTemplate : noItemsTemplate; context: { $implicit: items }"></ng-container>
        </tbody>
    </table>
    <cpk-paginator *ngIf="paginator$ | async as paginator"
                   [total]="paginator.total"
                   [limit]="paginator.limit"
                   [page]="paginator.page"
                   [pages]="paginator.pages"
                   (pageChange)="onPageChange($event)"
                   (limitChange)="onLimitChange($event)"></cpk-paginator>
</div>

<ng-template #itemTemplate let-items>
    <tr *ngFor="let item of items; let i = index;">
        <th scope="row">{{ i + 1 }}</th>
        <td>{{ item["klucz-slownika"] }}</td>
        <td>{{ item["wartosc-slownika"] }}</td>
        <td>{{ item["liczba-wystapien"] }}</td>
    </tr>
</ng-template>

<ng-template #noItemsTemplate>
    <tr>
        <td [colSpan]="4" class="text-center">Nie wybrano słownika</td>
    </tr>
</ng-template>
